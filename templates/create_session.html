{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<h1 class="h2 mb-4">{{ title }}</h1>

<form method="POST" action="">
    {{ form.hidden_tag() }}

    <div class="row g-3">
        <!-- Pole Prowadzący Trener (dla Admina) -->
        {% if current_user.is_admin %}
        <div class="col-md-12">
            {{ form.trainer.label(class="form-label") }}
            {{ form.trainer(class="form-select") }}
            {% for error in form.trainer.errors %}
                <span class="text-danger small">{{ error }}</span>
            {% endfor %}
        </div>
        {% else %}
            <!-- Ukryte pole dla Trenera, aby przypisać siebie -->
            {{ form.trainer(type="hidden") }}
        {% endif %}

        <!-- Tytuł -->
        <div class="col-md-6">
            {{ form.title.label(class="form-label") }}
            {{ form.title(class="form-control") }}
            {% for error in form.title.errors %}
                <span class="text-danger small">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Typ Zajęć -->
        <div class="col-md-6">
            {{ form.session_type.label(class="form-label") }}
            {{ form.session_type(class="form-select") }}
            {% for error in form.session_type.errors %}
                <span class="text-danger small">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Data -->
        <div class="col-md-4">
            {{ form.date.label(class="form-label") }}
            {{ form.date(class="form-control", type="date") }}
            {% for error in form.date.errors %}
                <span class="text-danger small">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Godzina Rozpoczęcia -->
        <div class="col-md-4">
            {{ form.start_time.label(class="form-label") }}
            {{ form.start_time(class="form-control", type="time") }}
            {% for error in form.start_time.errors %}
                <span class="text-danger small">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Czas trwania -->
        <div class="col-md-4">
            {{ form.duration_minutes.label(class="form-label") }}
            {{ form.duration_minutes(class="form-control") }}
            {% for error in form.duration_minutes.errors %}
                <span class="text-danger small">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Cena -->
        <div class="col-md-6">
            {{ form.price.label(class="form-label") }}
            {{ form.price(class="form-control") }}
            {% for error in form.price.errors %}
                <span class="text-danger small">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Limit Miejsc -->
        <div class="col-md-6">
            {{ form.max_participants.label(class="form-label") }}
            {{ form.max_participants(class="form-control") }}
            {% for error in form.max_participants.errors %}
                <span class="text-danger small">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Opis -->
        <div class="col-12">
            {{ form.description.label(class="form-label") }}
            {{ form.description(class="form-control", rows="4") }}
            {% for error in form.description.errors %}
                <span class="text-danger small">{{ error }}</span>
            {% endfor %}
        </div>
    </div>

    <hr class="my-4">

    <div class="d-flex justify-content-end gap-2">
        <a href="{{ url_for('trainer_dashboard') }}" class="btn btn-secondary">Anuluj</a>
        {{ form.submit(class="btn btn-primary") }}
    </div>
</form>
{% endblock %}